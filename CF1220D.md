这是一道非常好的数学题

下面来介绍思路

## 0.审题寻找思路

- 无限的整数
- $i->j$的连边条件
- 所有整数满足二分图
- 在给定序列中选择一个最大的集合

这几个条件似乎只有二分图可以入手，于是从二分图出发

~~我想了一个上午，其它条件都不能入手~~

## 1.二分图

二分图有一个~~众所周知~~的性质：
>从左边点出发，经过奇数条边之后必定在右边点上，经过偶数条边后才可能返回自身

换句话说，如果图中有一个奇环，那么这个图必然不是二分图

**那么现在问题转化为**

>求一个最大子集合，使得图中没有奇环

## 2.$数轴$

我们可以先考虑答案集合中的两个数$a,b$，观察它满足什么条件

想象一条数轴，$m$和$n$起初都在远点，$m$每次向前运动$a$，$n$每次向前运动$b$，它们第一次相遇一定是在$lcm(a,b)$，第二次一定是在$2lcm(a,b)$，所以，$a,b$两数一定满足：
$$\frac{lcm(a,b)}{a}+\frac{lcm(a,b)}{b} \equiv 0 (mod\ 2)$$

该式子计算的是第一个交汇点刀第二个交汇点的边数和，如果由$a,b$建的图中没有奇环则满足上式

**那么现在问题转换为**
>求一个最大的子集合 $A$,使得对于$任意的a,b属于A,都有\frac{lcm(a,b)}{a}+\frac{lcm(a,b)}{b} \equiv 0 (mod\ 2)$

## 3.猜想归纳

看到$mod\ 2$ 首先想到的一定是奇偶性，我们在这里大胆猜想和奇偶性有关，于是我们讨论$a,b$的奇偶性
1. 若$a,b$同为奇数，显然该情况满足上式
2. 若$a,b$为一奇一偶，显然该情况不满足上式 ~~不理解就自己算几个数，或者奶一口正确性~~
3. 若$a,b$同为偶数，那么原式子变成（$2a'=a,2b'=b$）
$$\frac{2lcm(a',b')}{2a'}+\frac{2lcm(a',b')}{2b'} \equiv 0 (mod\ 2)$$
$$\frac{lcm(a',b')}{a'}+\frac{lcm(a',b')}{b'} \equiv 0 (mod\ 2)$$

如果$a',b'$依旧是偶数，继续3步骤，否则，可以判断。

所以我们得到了更为一般性的，有$a=2^ka'',b=2^kb''$，其中$k$是满足$a\equiv 0 (mod \ 2^k)$的最大的$k$

也就是说在二进制下，$a,b$末尾拥有相同数量的$0$，推广到多个数也是如此

## 4.结论
>一个可行的子集合的充分必要条件是：所有元素在二进制下末尾有相同数量的$0$

## 5.代码展示
```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
const int N=2e5+5;
int a[N],b[N],c[N],n,ans,k;
signed main()
{
    scanf("%lld",&n);
    for(int i=1;i<=n;i++)
    {
        scanf("%lld",&b[i]);
        int t=0,x=b[i];
        while(x%2==0&&x) x>>=1ll,t++;
        a[t]++,c[i]=t;
    }
    if(n==1) printf("1 %lld\n",b[1]);
    for(int i=0;i<=20;i++)
        if(ans<a[i]) ans=a[i],k=i;
    printf("%d\n",n-ans);
    for(int i=1;i<=n;i++)
        if(c[i]!=k)
            printf("%lld ",b[i]);
    puts("");
    return 0;
}
```